<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wangxinenpu.springbootdemo.dao.mapper.selfmachine.SiteIconCategoryMapper">

    <select id="getSiteIconCategoryList" resultType="com.wangxinenpu.springbootdemo.dataobject.po.SiteIconCategory">
        select id as id,name as name,parent_id as parentId ,sort_no as sortNo,is_show as isShow from site_icon_category
        where parent_id = 0
        <if test="bussType != null and bussType!=''" >
            and buss_type=#{bussType}
        </if>
        <if test="name != null and name!=''" >
            and name like concat('%',#{name},'%')
        </if>
        order by sort_no asc,modify_time desc
    </select>
</mapper>
